<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>NEET Study Hub</title>
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&family=Roboto+Slab:wght@700&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
  <style>
    
/* General Body Styling */

@media (max-width: 768px) {
main {
  max-width: 1000px;
  margin: 1px auto;
}
  .related1{
  max-width: 1000px;
  margin-top: -12px;
margin: 10px auto;
padding: 14px;
}
.related-posts-heading {
  font-size: 1.5rem;
  font-weight: 600;
  text-decoration: underline;
  margin-top: -30px;
  margin-bottom: 20px;
  color: #333;
}
}
@media (min-width: 769px) {
  main {
    max-width: 1300px;
    margin: 20px auto;
    padding: 30px;
    
    
  }
}
/* Main Container */


/* Breadcrumbs */
.breadcrumbs {
  font-size: 0.9rem;
  color: #666;
  margin-bottom: 10px;
  text-transform: capitalize;
}

.breadcrumbs a {
  color: #007bff;
  text-decoration: none;
}

.breadcrumbs a:hover {
  text-decoration: underline;
}

/* Post Card */
.card {
  background: #ffffff;
  border-radius: 12px;
  padding: 25px;
  padding-top: -30px;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
  margin-bottom: 30px;
  text-align: left; /* Align content to the left */
}

#post-title {
  font-size: 2rem;
  font-weight: 600;
  color: #222;
  margin-bottom: 10px;
}

.meta-info {
  font-size: 0.95rem;
  color: #999;
  margin-bottom: 15px;
}

hr {
  border: 0;
  border-top: 1px solid #e0e0e0;
  margin: 20px 0;
}

/* Post Image (Hidden) */
#post-image {
  display: none; /* Hide the post image */
}

/* Post Content */
#post-content {
  font-size: 1rem;
  line-height: 1.8;
  margin-bottom: 30px;
  color: #444;
  text-align: left; /* Align content to the left */
}

/* Images in Post Content */
/* For Desktop (min-width: 769px) */
@media (min-width: 769px) {
  #post-content img {
    max-width: 100%; /* Allow the images to scale up to the full container width */
    height: auto; /* Maintain aspect ratio */
    display: block; /* Ensure proper block-level rendering */
    margin: 20px 0; /* Add spacing around the image */
    border-radius: 8px; /* Keep consistent styling */
  }
}

/* For Mobile (max-width: 768px) */
@media (max-width: 768px) {
  #post-content img {
    max-width: 100%; /* Full width for mobile */
    height: auto; /* Maintain aspect ratio */
    display: block;
    margin: 20px 0;
    border-radius: 8px;
  }
}


/* Fixed Sizes for Images (Post Content) */
@media (min-width: 768px) {
  #post-content img {
    max-width: 10%; /* Allow scaling on tablets */
  }
}

@media (max-width: 767px) {
  #post-content img {
    max-width: 100%; /* Full width for mobile */
  }
}

/* Related Posts Section */
.related-posts {
  margin-top: 20px;
}

.related-posts-heading {
  font-size: 1.5rem;
  font-weight: 600;
  text-decoration: underline;
  margin-bottom: 20px;
  color: #333;
}

/* Related Post Cards */
.related-post-card {
  background: #ffffff;
  border-radius: 12px;
  padding: 20px;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
  margin-bottom: 20px;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
  display: flex;
  align-items: center;
  text-align: left; /* Align related post content left */
}

.related-post-card:hover {
  transform: translateY(-5px);
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
}

.related-post-card img {
  flex-shrink: 0; /* Prevent image from shrinking */
  width: 100px; /* Set consistent width */
  height: 100px; /* Set consistent height */
  margin-right: 15px;
  border-radius: 8px;
  object-fit: cover; /* Ensure image fits within dimensions */
}

.related-post-card a {
  text-decoration: none;
  font-size: 1.2rem;
  font-weight: 600;
  color: #007bff;
}

.related-post-card a:hover {
  text-decoration: underline;
}

.related-post-card p {
  font-size: 0.9rem;
  color: #666;
  margin-top: 8px;
  margin-bottom: 0;
}

/* Mobile Responsiveness */
@media (max-width: 768px) {
  #post-title {
    font-size: 1.8rem;
  }

  .related-post-card a {
    font-size: 1rem;
  }

  #post-content {
    font-size: 0.95rem;
  }

.related-post-card {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-bottom: 15px;
}

.related-post-thumbnail img {
  width: 80px;
  height: 80px;
  object-fit: cover;
  border-radius: 5px;
}

.related-post-card a {
  text-decoration: none;
  color: #333;
  font-size: 16px;
  font-weight: bold;
}

.related-post-card a:hover {
  color: #007bff;
}

}
@media (min-width: 769px) {
  #post-title {
    font-size: 1.8rem;
  }
  
  .related-post-card a {
    font-size: 1rem;
  }
  
  #post-content {
    font-size: 0.95rem;
  }
  
  .related-post-card {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 15px;
  }
  
  .related-post-thumbnail img {
    width: 80px;
    height: 80px;
    object-fit: cover;
    border-radius: 5px;
  }
  
  .related-post-card a {
    text-decoration: none;
    color: #333;
    font-size: 16px;
    font-weight: bold;
  }
  
  .related-post-card a:hover {
    color: #007bff;
  }
  
}
  </style>
</head>
<body>
    <!-- Header with Navbar -->
  <header>
    <div class="logo">NEET Study Hub</div>
    <div class="hamburger" id="hamburger">☰</div>
    <nav class="nav-links">
      <a href="#">Home</a>
      <a href="#">About</a>
      <a href="#">Subjects</a>
      <a href="#">Mock Tests</a>
      <a href="#">Contact</a>
    </nav>
  </header>

<!-- Sidebar -->
<div class="sidebar" id="sidebar">
  <button class="sidebar-close" id="closeSidebar">&times;</button>
  <ul class="sidebar-menu">
    <li><a href="#home"><i class="fas fa-home"></i> Home</a></li>
    <li><a href="#about"><i class="fas fa-info-circle"></i> About</a></li>
    <li><a href="#resources"><i class="fas fa-book"></i> Resources</a></li>
    <li><a href="blog.html"><i class="fas fa-blog"></i> Blogs</a></li>
    <li><a href="#contact"><i class="fas fa-envelope"></i> Contact</a></li>
  </ul>
</div>

<!-- Sidebar Toggle Tab -->
<div class="sidebar-tab" id="sidebarTab">
  <i class="fas fa-bars"></i>
</div>

  <main id="post-container">
    <!-- Main Post Card -->
    <div class="card">
      <nav class="breadcrumbs">
        <a href="index.html">Home</a> › <a href="#" id="post-label">Category</a> › <span id="post-title-breadcrumb">Post Title</span>
      </nav>
      <h1 id="post-title"></h1>
      <p class="meta-info" id="post-meta"></p>
      <hr>
      <img id="post-image" src="" alt="Post Image">
      <div id="post-content"></div>
    </div>

<!-- Related Posts Section -->
<div class="related1">
<section class="related-posts">
  <h3 class="related-posts-heading">Related Posts</h3>
  <div id="related-posts"></div>
</section>
</div>
  </main>
  <!-- Footer -->
  <footer>
    <div class="footer-container">
      <div class="footer-section">
        <h3>About Us</h3>
        <p>NEET Study Hub is your one-stop destination for acing the NEET exam with expert-curated study materials and mock tests.</p>
      </div>
      <div class="footer-section">
        <h3>Quick Links</h3>
        <ul>
          <li><a href="#">Home</a></li>
          <li><a href="#">About</a></li>
          <li><a href="#">Subjects</a></li>
          <li><a href="#">Mock Tests</a></li>
          <li><a href="#">Contact</a></li>
        </ul>
      </div>
      <div class="footer-section">
        <h3>Follow Us</h3>
        <div class="social-links">
          <a href="#">Facebook</a>
          <a href="#">Instagram</a>
          <a href="#">Twitter</a>
        </div>
      </div>
    </div>
    <div class="footer-bottom">
      <p>&copy; 2025 NEET Study Hub. All rights reserved.</p>
    </div>
  </footer>
  
  <script src="script.js"></script>
<script>
       const cloudflareProxy = "https://neetstudyhub-api-proxy.earnmoney100a.workers.dev";
const postId = new URLSearchParams(window.location.search).get("postId");

const relatedPostsSection = document.getElementById("related-posts");

async function fetchPost() {
  if (!postId) {
    document.getElementById("post-container").innerHTML =
      `<p>Invalid Post ID. Please return to the homepage.</p>`;
    return;
  }

  try {
    // Fetch the single post using Cloudflare Proxy
    const response = await fetch(`${cloudflareProxy}?id=${postId}`);
    const post = await response.json();

    // Fill in post data
    document.getElementById("post-title").textContent = post.title;
    document.getElementById("post-title-breadcrumb").textContent = post.title;
    document.getElementById("post-meta").textContent = `By - NEET Study Hub | Published on: ${new Date(
      post.published
    ).toLocaleDateString()}`;
    document.getElementById("post-content").innerHTML = post.content;

    fetchRelatedPosts();
  } catch (error) {
    console.error("Error fetching post:", error);
    document.getElementById("post-container").innerHTML =
      `<p>Error loading post. Please try again later.</p>`;
  }
}

async function fetchRelatedPosts() {
  try {
    // Fetch related posts using Cloudflare Proxy
    const response = await fetch(`${cloudflareProxy}?maxResults=5`);
    const data = await response.json();

    relatedPostsSection.innerHTML = data.items
      .filter((post) => post.id !== postId) // Exclude the current post
      .map((post) => {
        const thumbnailUrl = extractThumbnail(post.content);
        return `
          <div class="related-post-card">
            <div class="related-post-thumbnail">
              <img src="${thumbnailUrl}" alt="${post.title}">
            </div>
            <a href="post.html?postId=${post.id}">${post.title}</a>
          </div>`;
      })
      .join("");
  } catch (error) {
    console.error("Error fetching related posts:", error);
    relatedPostsSection.innerHTML = `<p>Unable to load related posts.</p>`;
  }
}

function extractThumbnail(content) {
  const imgTagMatch = content.match(/<img[^>]+src="([^">]+)"/);
  return imgTagMatch ? imgTagMatch[1] : "https://via.placeholder.com/150";
}

document.addEventListener("DOMContentLoaded", fetchPost);

</script>

</body>
</html>
